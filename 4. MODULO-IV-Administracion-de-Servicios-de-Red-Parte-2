
---------------------Practica 1 ---------------------------------------

---------------Instalación y configuración básica de Apache-------------------

sudo dnf install httpd -y
sudo systemctl start httpd
sudo systemctl enable httpd
sudo systemctl status httpd

----------------Configuración del primer sitio web (Hola Mundo)---------------------

cd /var/www/html
sudo mkdir Hola
cd Hola
sudo nano index.html

---------------------Contenido del archivo index.html para el sitio Hola-----------------

<!DOCTYPE html>
<html>
<head><title>Hola Mundo</title></head>
<body><h1>Hola Mundo</h1></body>
</html>

------------------------Configuración del VirtualHost:-------------------------

sudo nano /etc/httpd/conf/httpd.conf

<VirtualHost *:80>
     ServerName hola.localhost
     DocumentRoot "/var/www/html/Hola"
     ServerAdmin eze-20242286@localhost
</VirtualHost>


Reiniciar Apache y configurar hosts:

sudo systemctl restart httpd
sudo nano /etc/hosts

Añadir:
127.0.0.1    hola.localhost

--------------------Configuración del segundo sitio web (Personal)-----------------------

cd /var/www/html
sudo mkdir estudiante
cd estudiante
sudo nano index.html

--------------------Contenido del archivo index.html personalizado:-------------------

<!DOCTYPE html>
<html>
<head><title>Estudiante</title></head>
<body>
<h2>Ezequiel Castillo</h2>
<p>Matrícula: 20242286</p>
<p>Materia: Sistemas Operativos III<br>
Docente: Adrian Alcántara</p>
</body>
</html>

--------------------Configuración adicional en httpd.conf:--------------------------

Configuración adicional en httpd.conf:

Listen 8080

Añadir:
<VirtualHost *:8080>
     ServerName estudiante.localhost
     DocumentRoot "/var/www/html/estudiante"
     ServerAdmin eze-20242286@localhost
</VirtualHost>

-----------------------Finalizar configuración:---------------------------------

sudo systemctl restart httpd
sudo nano /etc/hosts

Añadir:
127.0.0.1    estudiante.localhost



---------------------Practica 2 ---------------------------------------


---------------------Instalación de servidor de correo----------------------

sudo dnf install postfix cyrus-sasl cyrus-sasl-plain mailx -y
sudo systemctl enable --now postfix


--------------------Crear archivo de credenciales:--------------------

/etc/postfix/sasl_passwd

Añadir:
[smtp.gmail.com]:587    tu-email@gmail.com:contraseña-de-aplicación

------------------------Proteger el archivo:-------------------------------
sudo postmap /etc/postfix/sasl_passwd
sudo chmod 600 /etc/postfix/sasl_passwd


--------------------Configurar Postfix (main.cf)--------------------------
sudo nano /etc/postfix/main.cf

----Activar opciones de mi dominio--------------
----Todas las interfaces inet------------------
-----Todos los protocolos inet-------------------
-----2da opcion de domain------------------------
-----my networks poner la red ---------------------


------Al final del archivo agregar esto---------------------

relayhost = [smtp.gmail.com]:587
smtp_sasl_auth_enable = yes
smtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd
smtp_sasl_security_options = noanonymous
smtp_tls_security_level = encrypt
smtp_tls_wrappermode = no
smtp_tls_CAfile = /etc/ssl/certs/ca-bundle.crt


-----------------Habilitar Submission-------------------------

sudo nano /etc/postfix/master.cf

submission inet n       -       n       -       -       smtpd
  -o syslog_name=postfix/submission
  -o smtpd_tls_security_level=encrypt
  -o smtpd_sasl_auth_enable=yes
  -o smtpd_client_restrictions=permit_sasl_authenticated,reject


--------------------Configurar Firewall----------------

sudo firewall-cmd --add-port={25,587}/tcp --permanent
sudo firewall-cmd --reload


------------Reiniciar Postfix---------------------

sudo systemctl restart postfix


----------------Probar correo--------------------------------
echo "Test" | mail -s "Prueba Relay" correo-a-quien-se-le-enviara





---------------------Practica 3 ---------------------------------------


---------------Instalación y configuración básica de CUPS----------------------

sudo dnf install cups cups-pdf -y
sudo systemctl enable --now cups
sudo systemctl status cups

--------------------Configuración del firewall para permitir acceso a CUPS------------------------

sudo firewall-cmd --add-port=631/tcp --permanent
sudo firewall-cmd --reload


---------------------Configuración del archivo cupsd.conf--------------------------------

sudo nano /etc/cups/cupsd.conf


----------------------Modificaciones necesarias--------------------

Listen 0.0.0.0:631
Port 631

---------------------En las siguientes secciones, reemplazar Allow from 192.168.1.7 con Allow from ip de tu maquina/24-----------------------


<Location />
  Allow from ip-de-tu-maquina/24
</Location>

<Location /admin>
  Allow from ip-de-tu-maquina/24
</Location>

<Location /admin/conf>
  Allow from ip-de-tu-maquina/24
</Location>

<Location /printers>
  Allow from  ip-de-tu-maquina/24
</Location>


-------------Habilitar características avanzadas-------------------------------


sudo cupsctl --remote-admin --remote-any --share-printers
sudo systemctl restart cups


----------Configuración desde el cliente (Windows u otro)---------------------

Acceder desde el navegador a: http://-ip-de-tu-maquina:631
Agregar impresora PDF:
Administration > Add Printer
Seleccionar "CUPS-PDF (Virtual PDF Printer)"
Nombre: "Ezequiel-PDF"
Marcar "Share this printer"
Modelo: "Generic CUPS-PDF Printer"
URL de la impresora compartida: http://-ip-de-tu-maquina:631/printers/Ezequiel-PDF



--------Configuración en Windows----------------------

Ir a Settings > Devices > Printers & scanners
"Add a printer or scanner"
"The printer I want isn't listed"
"Select a shared printer by name" e ingresar: http://-ip-de-tu-maquina/printers/Ezequiel-PDF

