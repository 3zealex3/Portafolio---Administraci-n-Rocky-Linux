------------------------Practica 1-------------------------------------------

Menú GRUB2, recuperación de CONTRASEÑA ROOT

============================================

#Ingresar al archivo de configuración del menú Grub2:

sudo nano /etc/default/grub

#Al ver la línea de configuración "GRUB_TIMEOUT=5", cambiamos el número 5 (segundos) por el que queramos configurar (20). Ctrl + O para guardar, Ctrl + X para salir. Luego, actualizamos la configuración de Grub:

sudo grub2-mkconfig -o /boot/grub2/grub.cfg

#Luego, para ingresar al menú Grub y recuperar la contraseña Root, reiniciamos la máquina. Tan pronto como veamos el menú, presionamos la letra "e" en el teclado.

#Al ingresar al menú, ubicamos el cursor en la línea qué inicia con la palabra "linux /vmlinuz-...". Para ir hasta el final de dicha línea, presionamos "Ctrl + e", y agregamos "rd.break". Luego, presionamos Ctrl + X para ejecutar el menú con las nuevas configuraciones. 

#Tendremos acceso como Root en modo emergencia. Con los siguientes comandos remontamos el sistema de archivos con permisos de escritura:

mount -o remount,rw /sysroot

chroot /sysroot

#Cambiamos la contraseña:

passwd

#Luego de ello, escribimos y reescribimos la nueva contraseña de Root. Después, opcional pero recomendado, actualizamos el contexto SELinux.

touch /.autorelabel

#Salimos del entorno. El sistema se reiniciará automáticamente:

exit

exit

#Una vez iniciado el sistema, abrimos la terminal y ejecutamos el comando:

su

#Colocaremos la nueva contraseña de Root, y veremos cómo obtenemos privilegios de superusuario.



-----------------------------Script para Practica 2-------------------------------------------

------------------------Script para Backup:-------------------------------------

!/bin/bash


usuario=$(whoami)
fecha=$(date +"%d-%m-%Y____%H:%M:%S")
origen="/home/$usuario"
destino="/home/$usuario/backup_$fecha.tar.gz"

tar -czvf "$destino" "$origen"

echo "Se ha creado exitosamente el backup en: " "$destino" 



------------------------Script para Ifconfig:-------------------------------------

#!/bin/bash

usuario=$(whoami)
destino="/home/$usuario/Escritorio/"

echo "Se creara un archivo con datos de ifconfig, ¿que nombre desea ponerle?"
read archivo 
ifconfig > "$archivo"
mv "$archivo" "$destino"

echo "Se a copiado $archivo en: $destino"


--------------------------------Practica 2 ----------------------------------------------------

nano backup
chmod +x backup 
nano backup
./backup 
clear
ls
ifconfig > touche.txt
ls
cat touche.txt
clear
ls
rm touche.txt 
clear
nano IFCONFIG
chmod +x IFCONFIG 
nano IFCONFIG
ls
./IFCONFIG 
nano IFCONFIG
./IFCONFIG 
nano IFCONFIG
clear
ls
cd Escritorio/
ls
cat PRUEBA 
clear
ls
cd ..
ls
history





----------------COMPLETO------------------------------------------------

SHELL SCRIPTING en ROCKY LINUX

============================================

#Para crear el primer shell code: hacer un backup de los archivos /home/usuario y guardar dicho backup con la hora y fecha exactas en el nombre.

nano backup_home.sh

#Dentro del archivo, colocamos el script (un backup de /home/usuario con fecha y hora en el nombre):

#!/bin/bash
FECHA=$(date +"%d-%m-%Y:%H:%M")
tar -cvzf /home/$(whoami)/backup_home_$FECHA.tar.gz /home/$(whoami)

#Guardamos y cerramos el editor (Ctrl + O, Ctrl + X). Luego, damos permisos de ejecución:

chmod +x backup_home.sh

#Ejecutamos el script:

./backup_home.sh

#Para comprobar la efectividad de la ejecución, listamos los archivos existentes dentro de la carpeta usuario:

cd /home/usuario 
ls -l

#Para crear el segundo shell code: crear un archivo txt con el resultado del comando ifconfig, que se guarde en el escritorio y que nos pregunte qué nombre deseamos poner al archivo.

sudo nano ifconfig.sh

#Dentro del documento, colocamos el bash:

#!/bin/bash
read -p "Ingrese el nombre del archivo: " nombre
ifconfig > /home/$(whoami)/Desktop/"$nombre".txt
echo "El archivo se ha guardado en el escritorio con el nombre $nombre.txt"

#Salimos del documento y agregamos permisos de ejecución:

sudo chmod +× ifconfig.sh

#Ejecutar el script:

./ifconfig.sh

#Nos preguntará en nombre que queremos asignar al archivo de texto. Por ejemplo, Pruebaif.txt. Para verificar que el archivo existe y contiene el contenido correcto, hacemos lo siguiente:

cd /home/eze-20242286/Desktop
ls -l
cat Pruebaif.txt




---------------Practica 3----------------------------------------

nmtui
clear
ip a
ping 192.168.60.7
clear
ping 192.168.60.1
clear
su root
whoamai
whoami
clear
ls
clear
su root
ls
clea
clear
ls
clear
ssh-keygen -t ed25519 -C "Prueba" -f /home/20242286-ezequiel/
ssh-keygen -t ed25519 -C "Prueba" -f /home/20242286-ezequiel/.ssh/
ssh-keygen -t ed25519 -C "Prueba" -f /home/20242286-ezequiel/.ssh/CLAVE
ls /.ssh/
ls /home/20242286-ezequiel/.ssh/
nano authorized_keys
clear
ls
ls -a
mv authorized_keys /.ssh/
sudo mv authorized_keys /.ssh/
sudo mv authorized_keys /home/20242286-ezequiel/.ssh/
ls
cd /home/20242286-ezequiel/.ssh/
ls











